# test_task_EORA

### Запуск бота:
- python3 tg_bot/main.py

### Запуск API для общения с ботом:
- sudo docker-compose up

##### Эндпоинты для API:
- api/get-login-code/ - Получение кода для входа в Телеграм. В теле запроса передается номер телефона, на который зарегистрирован аккаунт. В теле ответа приходит хэш отправленного кода.
- api/login/ - Вход в Телеграм. В теле запроса передается номер телефона, полученный код и его хэш, полученный в пункте выше. В случае успешного входа в аккаунт в ответе будут указаны username и id юзера.
- api/send-message/ - Отправка сообщения боту :cat2: or :bread: (@EoraTaskBot). В теле запроса передаются id юзера и текст отправляемого сообщения. В ответ приходит текст сообщения от бота или, в случае отсутствия ответа, сообщение с просьбой написать другой текст. 
##### Более подробная информация в документации (файл openapi.json)
##### База данных:
- модель Message: id - первичный ключ, user_id - id юзера, от имеи которого отправляется сообщение, 
message - текст сообщения

